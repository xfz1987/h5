<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <script>
    /*globalCompositeOperation = type 属性-->
      * source-atop : 绘制原有图层被新图层覆盖的部分和新图层其它部分
      * source-in : 只绘制新图形与原图形重合的部分，其他部分透明
      * source-out: 只绘制新图形与与原图不重合的部分，重合部分透明
      * source-over: 新图形在原有图形上面，覆盖（默认）
      * destination-atop:
      * destination-in:
      * destination-out:
      * destination-over:
      * lighter:重叠部分颜色加深
      * copy:
      * xor:只绘制重叠部分
    */
    function draw(id){
      var canvas = document.getElementById(id);
      var ctx = canvas.getContext("2d");
      var oprtns = new Array(
              "source-atop",
              "source-in",
              "source-out",
              "source-over",
              "destination-atop",
              "destination-in",
              "destination-out",
              "destination-over",
              "lighter",
              "copy",
              "xor"
      );
      i=8;

      ctx.fillStyle = "blue";
      ctx.fillRect(10,10,60,60);
      ctx.globalCompositeOperation = oprtns[i];
      ctx.beginPath();
      ctx.fillStyle = "red";
      ctx.arc(60,60,30,Math.PI*2,false);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }
  </script>
</head>
<body onload="draw('myCanvas')">
<canvas id="myCanvas" width="500" height="500"></canvas>
</body>
</html>