<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>创建图像</title>
</head>
<body>
    <canvas id="canvas" style="display:block;margin:0 auto;border:1px solid #aaa">该浏览器不支持canvas</canvas>
    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        window.onload = function(){
            canvas.width = 500;
            canvas.height = 500;

            var imageData = ctx.createImageData(canvas.width,canvas.height);
            var pixelData = imageData.data;

            for(var i=0;i<canvas.height;i++){
                for(var j=0;j<canvas.width;j++){
                    var p = i*canvas.width+j;
                    pixelData[4*p+0] = parseInt(Math.pow(Math.cos(Math.atan2(j-250,i-250)/2),2)*255)
                    pixelData[4*p+1] = parseInt(Math.pow(Math.cos(Math.atan2(j-250,i-250)/2-2*Math.acos(-1)/3),2)*255)
                    pixelData[4*p+2] = parseInt(Math.pow(Math.cos(Math.atan2(j-250,i-250)/2+2*Math.acos(-1)/3),2)*255)
                    pixelData[4*p+3] = 255
                }
            }

            ctx.putImageData(imageData,0,0,0,0,canvas.width,canvas.height);
        }
    </script>

</body>
</html>